<?php

namespace Peg\Bundles\ApiBundle\Repository\Doctrine\ODM;

use Doctrine\ODM\MongoDB\DocumentManager;
use Peg\Bundles\ApiBundle\Document\LocationEvent;
use Peg\Repository\LocationEventRepositoryInterface;

/**
 * LocationEventRepository
 *
 * This class was generated by the Doctrine ODM. Add your own custom
 * repository methods below.
 */
class LocationEventRepository implements LocationEventRepositoryInterface
{
    /**
     * @var DocumentManager
     */
    private $documentManager;

    /**
     * @param DocumentManager $documentManager
     */
    public function __construct(DocumentManager $documentManager)
    {
        $this->documentManager = $documentManager;
    }

    public function save(LocationEvent $event, $sync = true)
    {
        $this->documentManager->persist($event);

        if ($sync === true) {
            $this->documentManager->flush($event);
        }
    }
}
